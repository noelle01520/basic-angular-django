!function(){"use strict";function t(t,n,e,c){function u(t,e,u,a,o){function i(n,c,u,a){p.login(t,e)}function s(t,n,e,u){c.setMessage(t.data.details,"danger")}return n.post("/account/api/v1/accounts/",{username:u,password:e,email:t,first_name:a,last_name:o}).then(i,s)}function a(t){return n["delete"]("/account/api/v1/accounts/"+t.username+"/")}function o(t){return n.get("/account/api/v1/accounts/"+t+"/")}function i(){return t.authenticatedAccount?JSON.parse(t.authenticatedAccount):void 0}function s(){return!!t.authenticatedAccount}function r(t,u){function a(n,u,a,o){p.setAuthenticatedAccount(n.data),c.setAlert("User "+t+" successfully logged in.","success"),e.goHome(!0,!0)}function o(t,n,u,a){c.setAlert(t.data.message,"danger"),e.display("/account/login",!1)}return n.post("/account/api/v1/auth/login/",{email:t,password:u}).then(a,o)}function d(){function t(t,n,u,a){p.unauthenticate(),c.setAlert("User successfully logged out.","success"),e.goHome(!0,!0)}function u(t,n,e,u){c.setAlert(t.error,"danger")}return n.post("/account/api/v1/auth/logout/").then(t,u)}function l(n){t.authenticatedAccount=JSON.stringify(n)}function f(){delete t.authenticatedAccount}function g(t){return n.put("/account/api/v1/accounts/"+t.username+"/",t)}var p={create:u,destroy:a,get:o,getAuthenticatedAccount:i,isAuthenticated:s,login:r,logout:d,setAuthenticatedAccount:l,unauthenticate:f,update:g};return p}angular.module("app.services").factory("Account",t),t.$inject=["$cookies","$http","Navigation","Alert"]}();